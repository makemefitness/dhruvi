= @customer_recipe

= form_for :customers, method: :get, :html => {class: 'search'}, remote: true do |f|

  = text_field_tag :q, nil, placeholder: "Choose a diet", id: 'search_diet', data: {behavior: "autocomplete"}

#korwa
  %script
    let korwa = $('#search_diet');
    let url = "/customer_recipes/new/"
    let korwa2 = { 
    getValue: "name",
    url: function(phrase){
    return "/diet_search?q=" + phrase;
    },
    categories: [
    {listLocation: 'recipes' ,header: "<strong>----- Przepisy -----</strong>"},
    ],
    getValue: "name",
    list:{
    maxNumberOfElements: 20,
    onChooseEvent: function(){let id = korwa.getSelectedItemData().id;console.log(url);window.location.href = url+id;},
    showAnimation: {
    type: "fade", //normal|slide|fade
    time: 400,
    callback: function() {}
    },
    }}

    korwa.easyAutocomplete(korwa2);